[[breaking-changes-6.5]]
== Breaking changes in 6.5
++++
<titleabbrev>6.5</titleabbrev>
++++

This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 6.5.

* <<breaking_65_logging_changes>>
* <<breaking_65_search_changes>>
* <<breaking_65_sql_changes>>
* <<breaking_65_client_changes>>

See also <<release-highlights>> and <<es-release-notes>>.

[float]
[[breaking_65_logging_changes]]
=== Logging changes

[float]
==== %node_name in logging pattern

To make the node name appear consistently in Elasticsearch's logs and to clean
up much of the internal logging code we've removed the node name from the
"marker" in the logging configuration. If you do not customize your logging
configuration file then there is nothing for you to do. If you *do* customize
your logging configuration properties then you should replace `%marker` with
`[%node_name]%marker `, including the trailing space. If you do not do so
Elasticsearch will log a warning on startup and log with the new pattern. It
will not change the logging configuration files though. You should make this
change before 7.0 because in 7.0 Elasticsearch will no longer automatically
add the node name to the logging configuration if it isn't already present.

[float]
[[breaking_65_search_changes]]
=== Search changes

[float]
==== Scroll

Using `rescore` with a scroll query now raises a deprecation warning and
ignores the parameter.  In earlier 6.x releases, rescore on scroll queries was
silently ignored.  In 7.0 and later, we will return a `400 - Bad Request` with
a validation error.

[float]
[[breaking_65_sql_changes]]
=== SQL plugin changes

[float]
==== Grouping by columns with missing values will create an additional group 

An additional group will be present in the result of requests containing a
`GROUP BY` for a column that has missing values in the returned documents.
The records with missing values in the grouped by column will be collectively
considered a single bucket.

[float]
[[breaking_65_client_changes]]
=== Client changes

[float]
==== Deprecate Retry.withBackoff methods that take Settings

`Settings` is no longer required by `Retry` so the `withBackoff` methods that
take `Settings` are now deprecated and there are new versions of those methods
that do not require `Settings`.
